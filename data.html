<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.40">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="description" content="We describe the sources of our data and the cleaning process.">

<title>Data – MA [46]15 Final Project TEAM 3</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-549806ee2085284f45b00abea8c6df48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-ddd961a2510921635943dfbbd19534c4.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">MA [46]15 Final Project TEAM 3</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="./about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./big_picture.html"> 
<span class="menu-text">Identical Homes, Unequal Prices</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./analysis.html"> 
<span class="menu-text">Analysis</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./data.html" aria-current="page"> 
<span class="menu-text">Data</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#data-source" id="toc-data-source" class="nav-link active" data-scroll-target="#data-source">Data Source</a>
  <ul class="collapse">
  <li><a href="#data-set-1-ipums-usa-primary-dataset" id="toc-data-set-1-ipums-usa-primary-dataset" class="nav-link" data-scroll-target="#data-set-1-ipums-usa-primary-dataset">Data Set 1: IPUMS USA (Primary Dataset)</a></li>
  <li><a href="#data-set-2-housing-prices-kaggle" id="toc-data-set-2-housing-prices-kaggle" class="nav-link" data-scroll-target="#data-set-2-housing-prices-kaggle">Data Set 2: Housing Prices (Kaggle)</a></li>
  </ul></li>
  <li><a href="#variable-description" id="toc-variable-description" class="nav-link" data-scroll-target="#variable-description">Variable Description</a>
  <ul class="collapse">
  <li><a href="#data-set-1-ipums-usa-acs-2023" id="toc-data-set-1-ipums-usa-acs-2023" class="nav-link" data-scroll-target="#data-set-1-ipums-usa-acs-2023">Data Set 1: IPUMS USA (ACS 2023)</a></li>
  <li><a href="#data-set-2-housing-prices-kaggle-1" id="toc-data-set-2-housing-prices-kaggle-1" class="nav-link" data-scroll-target="#data-set-2-housing-prices-kaggle-1">Data Set 2: Housing Prices (Kaggle)</a></li>
  </ul></li>
  <li><a href="#data-cleaning" id="toc-data-cleaning" class="nav-link" data-scroll-target="#data-cleaning">Data Cleaning</a>
  <ul class="collapse">
  <li><a href="#data-set-1-ipums-usa-acs-2023-1" id="toc-data-set-1-ipums-usa-acs-2023-1" class="nav-link" data-scroll-target="#data-set-1-ipums-usa-acs-2023-1">Data Set 1: IPUMS USA (ACS 2023)</a></li>
  <li><a href="#data-set-2-housing-prices-kaggle-2" id="toc-data-set-2-housing-prices-kaggle-2" class="nav-link" data-scroll-target="#data-set-2-housing-prices-kaggle-2">Data Set 2: Housing Prices (Kaggle)</a></li>
  </ul></li>
  <li><a href="#visualizing-key-variables" id="toc-visualizing-key-variables" class="nav-link" data-scroll-target="#visualizing-key-variables">Visualizing Key Variables</a>
  <ul class="collapse">
  <li><a href="#data-set-1-distribution-of-self-reported-housing-value-ipums" id="toc-data-set-1-distribution-of-self-reported-housing-value-ipums" class="nav-link" data-scroll-target="#data-set-1-distribution-of-self-reported-housing-value-ipums">Data Set 1: Distribution of Self-Reported Housing Value (IPUMS)</a></li>
  <li><a href="#data-set-2-distribution-of-housing-prices-kaggle" id="toc-data-set-2-distribution-of-housing-prices-kaggle" class="nav-link" data-scroll-target="#data-set-2-distribution-of-housing-prices-kaggle">Data Set 2: Distribution of Housing Prices (Kaggle)</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Data</h1>
</div>

<div>
  <div class="description">
    We describe the sources of our data and the cleaning process.
  </div>
</div>


<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p><img src="images/town-2430571_1280.jpg" class="img-fluid"></p>
<p>This comes from the file <code>data.qmd</code>.</p>
<section id="data-source" class="level2">
<h2 class="anchored" data-anchor-id="data-source">Data Source</h2>
<section id="data-set-1-ipums-usa-primary-dataset" class="level3">
<h3 class="anchored" data-anchor-id="data-set-1-ipums-usa-primary-dataset">Data Set 1: IPUMS USA (Primary Dataset)</h3>
<p>The dataset used in this project comes from <a href="https://usa.ipums.org/usa/">IPUMS USA</a>, maintained by the Minnesota Population Center at the University of Minnesota. IPUMS provides harmonized microdata from the U.S. Census and American Community Survey (ACS), enabling consistent analysis across time and population groups.</p>
<p>We use data from the <strong>2023 American Community Survey (ACS, 1-Year Sample)</strong>, which includes detailed individual and household-level information on demographics, income, and housing characteristics across the United States.</p>
<ul>
<li><strong>Data access</strong>: <a href="https://usa.ipums.org/usa-action/samples">IPUMS USA Extract System</a><br>
</li>
<li><strong>Data provider</strong>: Minnesota Population Center, University of Minnesota<br>
</li>
<li><strong>Purpose of collection</strong>: To inform public policy, federal resource allocation, and academic research by providing annual data on the U.S. population.</li>
</ul>
</section>
<section id="data-set-2-housing-prices-kaggle" class="level3">
<h3 class="anchored" data-anchor-id="data-set-2-housing-prices-kaggle">Data Set 2: Housing Prices (Kaggle)</h3>
<p>The second dataset used in this project comes from <a href="https://www.kaggle.com/datasets/yasserh/housing-prices-dataset">Kaggle</a>, and contains housing sale prices and property-level attributes from a U.S. housing market. It is often used for machine learning and regression exercises, and provides detailed housing features that complement our demographic-based IPUMS data.</p>
<p>This dataset allows us to explore how individual housing characteristics correlate with price, and can be used to contrast market-based housing valuation with self-reported housing values in the ACS data.</p>
<ul>
<li><strong>Data access</strong>: <a href="https://www.kaggle.com/datasets/yasserh/housing-prices-dataset">Kaggle Housing Prices Dataset</a><br>
</li>
<li><strong>Data provider</strong>: Yasser Hatab via Kaggle<br>
</li>
<li><strong>Purpose of collection</strong>: To predict housing prices based on physical features of the house, useful for regression, modeling, and comparative analysis with IPUMS-based household-level housing value.</li>
</ul>
<hr>
</section>
</section>
<section id="variable-description" class="level2">
<h2 class="anchored" data-anchor-id="variable-description">Variable Description</h2>
<section id="data-set-1-ipums-usa-acs-2023" class="level3">
<h3 class="anchored" data-anchor-id="data-set-1-ipums-usa-acs-2023">Data Set 1: IPUMS USA (ACS 2023)</h3>
<p>We focus on variables relevant to housing and income:</p>
<ul>
<li><code>YEAR</code>: Survey year (2023 for all observations).</li>
<li><code>STATEICP</code>: State identifier based on IPUMS codes.</li>
<li><code>ACREHOUS</code>: Lot size where the housing unit is located (1 = less than 10 acres, 2 = 10 acres or more).</li>
<li><code>VALUEH</code>: Estimated market value of owner-occupied housing units (in USD).</li>
<li><code>RACE</code>: Broad race category of the respondent.</li>
<li><code>FTOTINC</code>: Total family income, including all sources (in USD).</li>
</ul>
<blockquote class="blockquote">
<p>Note: The variable <code>RENT</code> was removed during data cleaning, as it was nearly always zero and not relevant for our analysis of owner-occupied housing units.</p>
</blockquote>
<section id="ipums-variable-summary-table" class="level4">
<h4 class="anchored" data-anchor-id="ipums-variable-summary-table">IPUMS Variable Summary Table</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 25%">
<col style="width: 33%">
<col style="width: 41%">
</colgroup>
<thead>
<tr class="header">
<th>Variable</th>
<th>Description</th>
<th>Values / Notes</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>YEAR</td>
<td>Survey year</td>
<td>All are 2023</td>
</tr>
<tr class="even">
<td>STATEICP</td>
<td>State code (IPUMS format)</td>
<td>1–82, e.g., 01 = Connecticut</td>
</tr>
<tr class="odd">
<td>ACREHOUS</td>
<td>Lot size (binary after recoding)</td>
<td>0 = &lt;10 acres, 1 = ≥10 acres</td>
</tr>
<tr class="even">
<td>VALUEH</td>
<td>Value of owned home (USD)</td>
<td>Excludes top-coded 9999999</td>
</tr>
<tr class="odd">
<td>RACE</td>
<td>Broad race category</td>
<td>Integer codes (see below)</td>
</tr>
<tr class="even">
<td>FTOTINC</td>
<td>Total family income (USD)</td>
<td>Excludes 0 and 9999999</td>
</tr>
</tbody>
</table>
<p>We did not rename variables but recoded <code>ACREHOUS</code> into a binary indicator to simplify analysis.</p>
</section>
<section id="race-codes" class="level4">
<h4 class="anchored" data-anchor-id="race-codes">RACE Codes</h4>
<p>The <code>RACE</code> variable uses the following codes (abridged):</p>
<ul>
<li>1 = White<br>
</li>
<li>2 = Black or African American<br>
</li>
<li>3 = American Indian or Alaska Native<br>
</li>
<li>4 = Chinese<br>
</li>
<li>5 = Japanese<br>
</li>
<li>6 = Other Asian or Pacific Islander<br>
</li>
<li>8 = Two major races<br>
</li>
<li>9 = Three or more major races</li>
</ul>
<hr>
</section>
</section>
<section id="data-set-2-housing-prices-kaggle-1" class="level3">
<h3 class="anchored" data-anchor-id="data-set-2-housing-prices-kaggle-1">Data Set 2: Housing Prices (Kaggle)</h3>
<p>The second dataset, from Kaggle, focuses on individual housing attributes and sale prices. These variables were used to model and analyze market-driven home values.</p>
<section id="kaggle-variable-summary-table" class="level4">
<h4 class="anchored" data-anchor-id="kaggle-variable-summary-table">Kaggle Variable Summary Table</h4>
<table class="caption-top table">
<colgroup>
<col style="width: 16%">
<col style="width: 46%">
<col style="width: 37%">
</colgroup>
<thead>
<tr class="header">
<th>Variable</th>
<th>Description</th>
<th>Values / Notes</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>price</code></td>
<td>Sale price of the house</td>
<td>In INR</td>
</tr>
<tr class="even">
<td><code>area</code></td>
<td>Living area of the house</td>
<td>In square feet</td>
</tr>
<tr class="odd">
<td><code>bedrooms</code></td>
<td>Number of bedrooms</td>
<td>Integer</td>
</tr>
<tr class="even">
<td><code>bathrooms</code></td>
<td>Number of bathrooms</td>
<td>Integer</td>
</tr>
<tr class="odd">
<td><code>stories</code></td>
<td>Number of floors</td>
<td>Integer</td>
</tr>
<tr class="even">
<td><code>mainroad</code></td>
<td>Whether the house is on a main road</td>
<td>1 = yes, 0 = no</td>
</tr>
<tr class="odd">
<td><code>guestroom</code></td>
<td>Presence of a guest room</td>
<td>1 = yes, 0 = no</td>
</tr>
<tr class="even">
<td><code>basement</code></td>
<td>Presence of a basement</td>
<td>1 = yes, 0 = no</td>
</tr>
<tr class="odd">
<td><code>hotwaterheating</code></td>
<td>Presence of hot water heating</td>
<td>1 = yes, 0 = no</td>
</tr>
<tr class="even">
<td><code>airconditioning</code></td>
<td>Presence of air conditioning</td>
<td>1 = yes, 0 = no</td>
</tr>
<tr class="odd">
<td><code>parking</code></td>
<td>Number of parking spaces</td>
<td>Integer</td>
</tr>
<tr class="even">
<td><code>prefarea</code></td>
<td>Whether in a preferred area</td>
<td>1 = yes, 0 = no</td>
</tr>
<tr class="odd">
<td><code>furnishingstatus</code></td>
<td>Furnishing level</td>
<td><code>"furnished"</code>, <code>"semi-furnished"</code>, <code>"unfurnished"</code></td>
</tr>
</tbody>
</table>
<p>All yes/no variables were recoded into binary numeric values during data cleaning.</p>
</section>
</section>
</section>
<section id="data-cleaning" class="level2">
<h2 class="anchored" data-anchor-id="data-cleaning">Data Cleaning</h2>
<blockquote class="blockquote">
<p>Note: The two datasets were not merged. Each dataset was analyzed separately, as they serve different analytical purposes—IPUMS provides demographic-level insights, while the Kaggle dataset offers property-level pricing data.</p>
</blockquote>
<section id="data-set-1-ipums-usa-acs-2023-1" class="level3">
<h3 class="anchored" data-anchor-id="data-set-1-ipums-usa-acs-2023-1">Data Set 1: IPUMS USA (ACS 2023)</h3>
<p>The IPUMS data cleaning process is documented in our <a href=".\scripts/housing_clean.R">cleaning script</a>. We used <code>dplyr</code> to filter, recode, and remove unnecessary variables from the raw dataset.</p>
<p>The following steps were taken:</p>
<ul>
<li>We removed all observations with invalid or topcoded values:
<ul>
<li><code>STATEICP &gt; 82</code> (invalid state codes)</li>
<li><code>ACREHOUS == 0</code> (unknown lot size)</li>
<li><code>VALUEH == 9999999</code> and <code>FTOTINC == 9999999</code> (topcoded values)</li>
</ul></li>
<li>We removed unused or uninformative variables:
<ul>
<li><code>RENT</code>, which was almost entirely zeros and not relevant to our analysis</li>
<li><code>RACED</code>, a more detailed race variable we chose not to use</li>
</ul></li>
<li>We recoded <code>ACREHOUS</code> to a binary variable:
<ul>
<li><code>1</code> (less than 1 acre) was recoded to <code>0</code></li>
<li><code>2</code> (1 acre or more) was recoded to <code>1</code></li>
</ul></li>
</ul>
<p>The cleaned dataset was saved as an <code>.rds</code> file and is used throughout the analysis.</p>
<p>We used the <code>dplyr</code> package from the <code>tidyverse</code> for all transformations.</p>
<hr>
</section>
<section id="data-set-2-housing-prices-kaggle-2" class="level3">
<h3 class="anchored" data-anchor-id="data-set-2-housing-prices-kaggle-2">Data Set 2: Housing Prices (Kaggle)</h3>
<p>The Kaggle housing dataset was cleaned using our <a href=".\scripts/housing_clean2.R">cleaning script</a>. This process involved transforming categorical variables and retaining only relevant columns for analysis. The main cleaning steps were:</p>
<ul>
<li><strong>Converted categorical yes/no variables</strong> to binary numeric values (<code>1 = yes</code>, <code>0 = no</code>) for:
<ul>
<li><code>mainroad</code>, <code>guestroom</code>, <code>basement</code>, <code>hotwaterheating</code>, <code>airconditioning</code>, <code>prefarea</code></li>
</ul></li>
<li><strong>Converted <code>furnishingstatus</code></strong> into a categorical factor with three levels:
<ul>
<li><code>"furnished"</code>, <code>"semi-furnished"</code>, and <code>"unfurnished"</code></li>
</ul></li>
<li><strong>Selected variables</strong> relevant to housing price prediction:
<ul>
<li><code>price</code>, <code>area</code>, <code>bedrooms</code>, <code>bathrooms</code>, <code>stories</code>, <code>mainroad</code>, <code>guestroom</code>, <code>basement</code>, <code>hotwaterheating</code>, <code>airconditioning</code>, <code>parking</code>, <code>prefarea</code>, <code>furnishingstatus</code></li>
</ul></li>
</ul>
<p>The cleaned dataset was saved as <code>second_housing_cleaned.rds</code> and used in all downstream modeling and visualizations.</p>
</section>
</section>
<section id="visualizing-key-variables" class="level2">
<h2 class="anchored" data-anchor-id="visualizing-key-variables">Visualizing Key Variables</h2>
<p>To better understand the structure of each dataset, we visualize the distribution of key numeric variables from both sources.</p>
<section id="data-set-1-distribution-of-self-reported-housing-value-ipums" class="level3">
<h3 class="anchored" data-anchor-id="data-set-1-distribution-of-self-reported-housing-value-ipums">Data Set 1: Distribution of Self-Reported Housing Value (IPUMS)</h3>
<p>The following histogram shows the distribution of housing values reported by respondents in the IPUMS ACS data. These values are self-reported and may reflect owner perception rather than market assessments.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="data_files/figure-html/unnamed-chunk-1-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>As the plot shows, most owner-reported home values cluster below $500,000. The distribution is heavily right-skewed, with a long tail of higher-value properties—some even exceeding $1 million.</p>
</section>
<section id="data-set-2-distribution-of-housing-prices-kaggle" class="level3">
<h3 class="anchored" data-anchor-id="data-set-2-distribution-of-housing-prices-kaggle">Data Set 2: Distribution of Housing Prices (Kaggle)</h3>
<p>This histogram displays the distribution of housing prices in the Kaggle dataset. These are actual sale prices and reflect market transactions rather than survey responses.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="data_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>This distribution is also right-skewed. Most homes sell between 3 to 7 million INR, but there is a notable number of high-end sales above 10 million INR. The shape of this distribution suggests a heterogeneous housing market, which aligns with expectations for real-world property prices.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/sussmanbu\.github\.io\/ma4615-sp25-final-project-team-3\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>