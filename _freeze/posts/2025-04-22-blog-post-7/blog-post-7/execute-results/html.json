{
  "hash": "6add98d3d951ec69bfd1764ac9865459",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Blog Post 7\"\nsubtitle: \"\"\nauthor: \"\"\ndate: \"2025-04-22\"\nimage-alt: \"\"\ncategories: []\ndate-modified: \"2025-04-22\"\ndraft: false\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'tidyverse' was built under R version 4.3.3\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'ggplot2' was built under R version 4.3.3\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'tidyr' was built under R version 4.3.3\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'readr' was built under R version 4.3.3\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'purrr' was built under R version 4.3.3\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'dplyr' was built under R version 4.3.3\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'stringr' was built under R version 4.3.3\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'forcats' was built under R version 4.3.3\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'lubridate' was built under R version 4.3.3\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   3.5.1     ✔ tibble    3.2.1\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(shiny)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'shiny' was built under R version 4.3.3\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(leaflet)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'leaflet' was built under R version 4.3.3\n```\n\n\n:::\n\n```{.r .cell-code}\nhousing_cleaned <- readRDS(\"C:/Users/24725/Documents/ma4615-sp25-final-project-team-3/housing_cleaned.rds\") %>%\n  mutate(RACE = factor(RACE, levels = 1:9, labels = c(\n    \"White\",\n    \"Black/African American\",\n    \"American Indian or Alaska Native\",\n    \"Chinese\",\n    \"Japanese\",\n    \"Other Asian or Pacific Islander\",\n    \"Other race, nec\",\n    \"Two major races\",\n    \"Three or more major races\"\n  )))\n```\n:::\n\n\n\n# Housing Data Overview\n\nExplore trends in rent, income, and home values across different states and years.\n\n---\n\n## Progress Reflection\n\nThis week, we made substantial progress on the interactive component of our final project. The main feature we added is a boxplot visualization of household income across racial groups. This allows users to see big-picture trends in income inequality based on race. By using scale_y_log10(), we make sure outliers don’t dominate the plot and users can still explore subtle differences in the distributions.\n\nImportantly, the interactive includes a personal aspect. Users can filter the full dataset by race and state elsewhere in the project, and we plan to expand this to include personalized comparisons, where users can input their own income and compare it to medians by race or state. This helps people engage with the data on a personal level, rather than just looking at abstract charts.\n\nNext steps include adding a state-level map of rent burden and building more guidance into the interface—tooltips, hover labels, and prompts to help users discover insights they might not expect.\n\n\n---\n\n## Race-Based Income Distribution\nThis visualization displays the distribution of total household income (FTOTINC) for a selected racial group using a horizontal boxplot. The race is selected via a dropdown menu, and the income values are shown on a logarithmic scale to accommodate skewed distributions and highlight relative differences. This plot helps reveal the spread, central tendency, and potential outliers of income within each racial category, supporting a clearer understanding of economic disparities across demographics.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nselectInput(\"selected_race\", \"Choose a race:\", choices = sort(unique(housing_cleaned$RACE)))\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"form-group shiny-input-container\">\n<label class=\"control-label\" id=\"selected_race-label\" for=\"selected_race\">Choose a race:</label>\n<div>\n<select id=\"selected_race\" class=\"shiny-input-select\"><option value=\"White\" selected>White</option>\n<option value=\"Black/African American\">Black/African American</option>\n<option value=\"American Indian or Alaska Native\">American Indian or Alaska Native</option>\n<option value=\"Chinese\">Chinese</option>\n<option value=\"Japanese\">Japanese</option>\n<option value=\"Other Asian or Pacific Islander\">Other Asian or Pacific Islander</option>\n<option value=\"Other race, nec\">Other race, nec</option>\n<option value=\"Two major races\">Two major races</option>\n<option value=\"Three or more major races\">Three or more major races</option></select>\n<script type=\"application/json\" data-for=\"selected_race\" data-nonempty=\"\">{\"plugins\":[\"selectize-plugin-a11y\"]}</script>\n</div>\n</div>\n```\n\n:::\n:::\n\n::: {.cell context='server'}\n\n```{.r .cell-code}\nrenderPlot({\n  housing_cleaned %>%\n    filter(RACE == input$selected_race) %>%\n    ggplot(aes(x = FTOTINC, y = RACE)) +\n    geom_boxplot(fill = \"skyblue\", outlier.shape = NA) +\n    scale_x_log10() +\n    labs(title = paste(\"Income Distribution for Race:\", input$selected_race),\n         x = \"Total Household Income (log scale)\",\n         y = \"Race\")\n})\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div class=\"shiny-plot-output html-fill-item\" id=\"out7d81e3b02c9183c8\" style=\"width:100%;height:400px;\"></div>\n```\n\n:::\n:::\n\n\n---\n\n## Massachusetts Housing Insights by Year and Race\nThis Shiny application provides an interactive visualization of housing data in Massachusetts, focusing on average household income and home values across time and racial groups. Users can select a specific year to explore the overall average income and home values for that year, or choose a specific race group to compare economic indicators across demographic lines. The app offers clear visual summaries to help identify patterns and disparities in housing and income data.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nhousing_data <- readRDS(\"C:/Users/24725/Documents/ma4615-sp25-final-project-team-3/housing_cleaned.rds\") %>%\n  mutate(RACE = factor(RACE, levels = 1:9, labels = c(\n    \"White\",\n    \"Black/African American\",\n    \"American Indian or Alaska Native\",\n    \"Chinese\",\n    \"Japanese\",\n    \"Other Asian or Pacific Islander\",\n    \"Other race, nec\",\n    \"Two major races\",\n    \"Three or more major races\"\n  )))\n# Define UI\nui <- fluidPage(\n   # App title\n   titlePanel(\"Massachusetts Housing Data Explorer\"),\n   # Sidebar controls\n   sidebarLayout(\n       sidebarPanel(\n           sliderInput(\"year\", \"Select Year:\",\n                       min = min(housing_data$YEAR, na.rm = TRUE),\n                       max = max(housing_data$YEAR, na.rm = TRUE),\n                       value = 2023,\n                       step = 1,\n                       sep = \"\"),\n           selectInput(\"race_group\", \"Select Race Group (Code):\",\n                       choices = sort(unique(housing_data$RACE)),\n                       selected = 8)\n       ),\n       # Output plots\n       mainPanel(\n           h4(\"Average Home Value and Income by Year\"),\n           plotOutput(\"valueIncomePlot\"),\n           br(),\n           h4(\"Average Home Value and Income by Race\"),\n           plotOutput(\"racePlot\")\n       )\n   )\n)\n# Define server logic\nserver <- function(input, output) {\n   # Chart 1: Average Home Value and Income for selected year\n   output$valueIncomePlot <- renderPlot({\n       filtered <- housing_data %>% filter(YEAR == input$year)\n       avg_income <- mean(filtered$FTOTINC[filtered$FTOTINC > 0], na.rm = TRUE)\n       avg_value <- mean(filtered$VALUEH[filtered$VALUEH > 0], na.rm = TRUE)\n       summary_df <- data.frame(\n           Category = c(\"Average Income\", \"Average Home Value\"),\n           Value = c(avg_income, avg_value)\n       )\n       ggplot(summary_df, aes(x = Category, y = Value, fill = Category)) +\n           geom_bar(stat = \"identity\", width = 0.6) +\n           labs(title = paste(\"Averages in\", input$year),\n                y = \"USD\", x = \"\") +\n           theme_minimal() +\n           theme(legend.position = \"none\")\n   })\n   # Chart 2: Average Home Value and Income by race group\n   output$racePlot <- renderPlot({\n       filtered_race <- housing_data %>% filter(RACE == input$race_group)\n       avg_income_race <- mean(filtered_race$FTOTINC[filtered_race$FTOTINC > 0], na.rm = TRUE)\n       avg_value_race <- mean(filtered_race$VALUEH[filtered_race$VALUEH > 0], na.rm = TRUE)\n       race_df <- data.frame(\n           Metric = c(\"Average Income\", \"Average Home Value\"),\n           Value = c(avg_income_race, avg_value_race)\n       )\n       ggplot(race_df, aes(x = Metric, y = Value, fill = Metric)) +\n           geom_bar(stat = \"identity\", width = 0.6) +\n           labs(title = paste(\"Race Group\", input$race_group, \"— Income vs Home Value\"),\n                y = \"USD\", x = \"\") +\n           theme_minimal() +\n           theme(legend.position = \"none\")\n   })\n}\nshinyApp(ui = ui, server = server)\n```\n\n::: {.cell-output-display}\n`<div style=\"width: 100% ; height: 400px ; text-align: center; box-sizing: border-box; -moz-box-sizing: border-box; -webkit-box-sizing: border-box;\" class=\"muted well\">Shiny applications not supported in static R Markdown documents</div>`{=html}\n:::\n:::",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/selectize-0.15.2/css/selectize.bootstrap3.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/selectize-0.15.2/js/selectize.min.js\"></script>\n<script src=\"../../site_libs/selectize-0.15.2/accessibility/js/selectize-plugin-a11y.min.js\"></script>\n<link href=\"../../site_libs/htmltools-fill-0.5.8.1/fill.css\" rel=\"stylesheet\" />\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}